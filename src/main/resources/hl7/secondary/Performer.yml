#
# (C) Copyright IBM Corp. 2020
#
# SPDX-License-Identifier: Apache-2.0
#
function_v1:
   condition: $orderingProvider NOT_NULL
   valueOf: datatype/CodeableConcept_var
   expressionType: resource
   constants:
    system: 'http://terminology.hl7.org/CodeSystem/v2-0443'
    code: 'OP'
    text: 'Ordering Provider'

function_v2:
   condition: $administeringProvider NOT_NULL || $administeringOrg NOT_NULL
   valueOf: datatype/CodeableConcept_var
   expressionType: resource
   constants:
    system: 'http://terminology.hl7.org/CodeSystem/v2-0443'
    code: AP
    text: Administering Provider

actor_1:
   condition: $orderingProvider NOT_NULL || $administeringProvider NOT_NULL
   valueOf: resource/Practitioner
   expressionType: reference
   generateList: true
   specs: $orderingProvider | $administeringProvider

#actor_2:
#  conditition: $administeringOrg NOT_NULL
#  valueOf: resource/Organization
#  expressionType: reference
#  generateList: true
#  specs: $administeringOrg